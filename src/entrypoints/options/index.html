<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0" />
    <!-- Customize the manifest options -->
    <meta name="manifest.open_in_tab" content="true" />
    <meta
      name="description"
      content="Configure AI services and task settings for Para-Translator extension"
    />
    <title>Para-Translator Settings</title>

    <link
      rel="preload"
      href="/fonts/inter-latin-wght-normal.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/fonts/inter-latin-ext-wght-normal.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <link rel="stylesheet" href="@/assets/base.css" />
    <style>
      /*
        This inline style block is a performance optimization based on the principles from:
        https://www.jonoalderson.com/conjecture/youre-loading-fonts-wrong/

        1.  **Inlining @font-face**: Avoids a network request to discover the font files.
        2.  **Fallback Font with Metric Overrides**: An `@font-face` rule creates an 'Inter Fallback'
            using a common local font (Arial). Its metrics (`size-adjust`, `ascent-override`, etc.)
            are tuned to closely match the web font's (Inter Variable) metrics. This makes the swap
            from the fallback to the loaded web font much less jarring, significantly reducing CLS.
        3.  **Preloading**: The `<link rel="preload">` tag (added separately) for the `.woff2` file
            tells the browser to start fetching the font file earlier in the rendering process.

        By the time the main CSS loads, the font is likely already fetched and the fallback is
        correctly sized, leading to a smoother rendering experience.
      */
      @font-face {
        font-family: 'Inter Fallback';
        src: local('Arial');
        ascent-override: 90.79%;
        descent-override: 22.48%;
        line-gap-override: 0%;
        size-adjust: 107.28%;
      }

      /*
        The `@fontsource` package provides multiple files for different unicode ranges.
        We are inlining the 'latin' and 'latin-ext' subsets here, as they cover most
        use cases for this extension's audience. This follows the principle of shipping
        only the necessary glyphs. The font-display is set to 'swap'.
      */
      /* inter-latin-ext-wght-normal */
      @font-face {
        font-family: 'Inter Variable';
        font-style: normal;
        font-display: swap;
        font-weight: 100 900;
        src: url(/fonts/inter-latin-ext-wght-normal.woff2) format('woff2-variations');
        unicode-range:
          U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329,
          U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113,
          U+2C60-2C7F, U+A720-A7FF;
      }
      /* inter-latin-wght-normal */
      @font-face {
        font-family: 'Inter Variable';
        font-style: normal;
        font-display: swap;
        font-weight: 100 900;
        src: url(/fonts/inter-latin-wght-normal.woff2) format('woff2-variations');
        unicode-range:
          U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308,
          U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
